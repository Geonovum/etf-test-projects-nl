<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project name="Nederlands WMS profiel 1_3_0" resourceRoot="${projectDir}" soapui-version="4.6.4" abortOnError="false" runType="SEQUENTIAL" activeEnvironment="etf-sel.modelBridge" xmlns:con="http://eviware.com/soapui/config"><con:description>Het Nederlands WMS profiel voor WMS 1.3.0 / ISO 19128 stelt enkele aanvuillende eisen aan een WMS service. Deze test controleert de WMS op deze aanvullende eisen.</con:description><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Global Properties" value=""/>
  <con:entry key="TestSuite" value="FR-V3 - Availability"/>
  <con:entry key="Report to Generate" value=""/>
  <con:entry key="Password" value=""/>
  <con:entry key="soapui-setings.xml Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Save Project" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Export All" value="true"/>
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Username" value=""/>
  <con:entry key="Root Folder" value="/home/esdin/distributions/raw/"/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="Endpoint" value=""/>
</xml-fragment>]]></con:setting><con:setting id="ProjectSettings@hermesConfig">${#System#user.home}\.hermes</con:setting></con:settings><con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="WMS" type="rest" basePath="" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT"/><con:endpoints><con:endpoint>${#Project#getCapabilitiesURL}</con:endpoint><con:endpoint>${#Project#getMapUrl}</con:endpoint><con:endpoint>${#Project#serviceEndpoint}</con:endpoint></con:endpoints><con:resource name="viewservice" path=""><con:settings/><con:parameters><con:parameter required="true"><con:name>REQUEST</con:name><con:value>GetCapabilities</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>GetCapabilities</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>SERVICE</con:name><con:value>WMS</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>WMS</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="false" disableUrlEncoding="false"><con:name>VERSION</con:name><con:value>1.3.0</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>1.3.0</con:default><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="GetCapabilities" method="GET"><con:settings/><con:parameters><con:parameter><con:name>REQUEST</con:name><con:value>GetCapabilities</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>GetCapabilities</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>VERSION</con:name><con:value>1.3.0</con:value><con:style>QUERY</con:style><con:default>1.3.0</con:default></con:parameter><con:parameter required="true"><con:name>SERVICE</con:name><con:value>WMS</con:value><con:style>QUERY</con:style><con:default>WMS</con:default></con:parameter><con:parameter><con:name>LANGUAGE</con:name><con:style>QUERY</con:style></con:parameter></con:parameters><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/xml</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:wms="http://www.opengis.net/wms">wms:WMS_Capabilities</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/vnd.ogc.se_xml</con:mediaType><con:status>200</con:status><con:params/><con:element>ServiceExceptionReport</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/vnd.ogc.wms_xml</con:mediaType><con:status>200</con:status><con:params/><con:element>WMT_MS_Capabilities</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>403 401</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="GetCapabilities" mediaType="application/xml"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#serviceEndpoint}</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method><con:method name="GetMap" method="GET"><con:settings/><con:parameters><con:parameter required="true"><con:name>REQUEST</con:name><con:value>GetMap</con:value><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type><con:default>GetMap</con:default><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>VERSION</con:name><con:value>1.3.0</con:value><con:style>QUERY</con:style><con:default>1.3.0</con:default></con:parameter><con:parameter required="true"><con:name>LAYERS</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter><con:parameter required="true"><con:name>STYLES</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter><con:parameter required="true"><con:name>CRS</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter><con:parameter required="true"><con:name>BBOX</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter><con:parameter required="true"><con:name>WIDTH</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter><con:parameter required="true"><con:name>HEIGHT</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter><con:parameter required="true"><con:name>FORMAT</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter><con:parameter required="true"><con:name>TRANSPARENT</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter><con:parameter><con:name>BGCOLOR</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter><con:parameter><con:name>EXCEPTIONS</con:name><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>SRS</con:name><con:value/><con:style>QUERY</con:style><con:default/></con:parameter></con:parameters><con:representation type="RESPONSE"><con:mediaType>image/png</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>text/xml</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ogc="http://www.opengis.net/ogc">ogc:ServiceExceptionReport</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/><con:element>HTML</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/vnd.ogc.se_xml</con:mediaType><con:status>200</con:status><con:params/><con:element>ServiceExceptionReport</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>500</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/xml</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ows="http://www.opengis.net/ows">ows:ExceptionReport</con:element></con:representation><con:request name="GetMap" mediaType="application/xml" accept=""><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#serviceEndpoint}</con:endpoint><con:request/><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="CRS" value="EPSG:4258"/>
  <con:entry key="BBOX" value="55.932200860977,-3.2321491153717,55.967799139023,-3.1544508846283"/>
  <con:entry key="TRANSPARENT" value="true"/>
  <con:entry key="FORMAT" value="image/png"/>
  <con:entry key="HEIGHT" value="600"/>
  <con:entry key="LAYERS" value="AdministrativeUnits"/>
  <con:entry key="WIDTH" value="800"/>
</con:parameters></con:request></con:method></con:resource><con:inferredSchema><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<xml-fragment><inf:schema xmlns:inf="http://www.eviware.com/soapui/InferredSchema"><inf:namespace>http://www.opengis.net/wms</inf:namespace><inf:particle xsi:type="inf:ElementParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>WMS_Capabilities</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:WMS_Capabilities</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>Format</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>DCPType</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:_DCPType</inf:reference></inf:type></inf:particle><inf:prefix key="http://mapserver.gis.umn.edu/mapserver" value="ms"/><inf:prefix key="http://www.w3.org/2001/XMLSchema" value="xs"/><inf:prefix key="http://www.opengis.net/sld" value="sld"/><inf:prefix key="http://www.w3.org/1999/xlink" value="xlink"/><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Request_GetMap</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>Format</inf:name><inf:attribute key="maxOccurs" value="7"/><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>DCPType</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:GetMap_DCPType</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:Format" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:DCPType</inf:other></inf:comesBefore><inf:comesBefore qname="wms:DCPType" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>DCPType_HTTP</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>Get</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:HTTP_Get</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>Post</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:HTTP_Post</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:Post" xmlns:wms="http://www.opengis.net/wms"/><inf:comesBefore qname="wms:Get" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:Post</inf:other></inf:comesBefore></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Capability_Layer</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>Name</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>Title</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>Abstract</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>KeywordList</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Layer_KeywordList</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>CRS</inf:name><inf:attribute key="maxOccurs" value="18"/><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>EX_GeographicBoundingBox</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:EX_GeographicBoundingBox</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>Layer</inf:name><inf:attribute key="maxOccurs" value="5"/><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Layer_Layer</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:Layer" xmlns:wms="http://www.opengis.net/wms"/><inf:comesBefore qname="wms:Name" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:Title</inf:other><inf:other>wms:Abstract</inf:other><inf:other>wms:KeywordList</inf:other><inf:other>wms:CRS</inf:other><inf:other>wms:EX_GeographicBoundingBox</inf:other><inf:other>wms:Layer</inf:other></inf:comesBefore><inf:comesBefore qname="wms:CRS" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:EX_GeographicBoundingBox</inf:other><inf:other>wms:Layer</inf:other></inf:comesBefore><inf:comesBefore qname="wms:EX_GeographicBoundingBox" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:Layer</inf:other></inf:comesBefore><inf:comesBefore qname="wms:Title" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:Abstract</inf:other><inf:other>wms:KeywordList</inf:other><inf:other>wms:CRS</inf:other><inf:other>wms:EX_GeographicBoundingBox</inf:other><inf:other>wms:Layer</inf:other></inf:comesBefore><inf:comesBefore qname="wms:KeywordList" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:CRS</inf:other><inf:other>wms:EX_GeographicBoundingBox</inf:other><inf:other>wms:Layer</inf:other></inf:comesBefore><inf:comesBefore qname="wms:Abstract" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:KeywordList</inf:other><inf:other>wms:CRS</inf:other><inf:other>wms:EX_GeographicBoundingBox</inf:other><inf:other>wms:Layer</inf:other></inf:comesBefore></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Capability_Exception</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>Format</inf:name><inf:attribute key="maxOccurs" value="3"/><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:comesBefore qname="wms:Format" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Capability_Request</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>GetCapabilities</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Request_GetCapabilities</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>GetMap</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Request_GetMap</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>GetFeatureInfo</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Request_GetFeatureInfo</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ReferenceParticle"><inf:reference xmlns:sld="http://www.opengis.net/sld">sld:DescribeLayer</inf:reference></inf:particle><inf:particle xsi:type="inf:ReferenceParticle"><inf:reference xmlns:sld="http://www.opengis.net/sld">sld:GetLegendGraphic</inf:reference></inf:particle><inf:particle xsi:type="inf:ReferenceParticle"><inf:reference xmlns:map="http://mapserver.gis.umn.edu/mapserver">map:GetStyles</inf:reference></inf:particle><inf:comesBefore qname="map:GetStyles" xmlns:map="http://mapserver.gis.umn.edu/mapserver"/><inf:comesBefore qname="wms:GetCapabilities" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:GetMap</inf:other><inf:other>wms:GetFeatureInfo</inf:other><inf:other xmlns:sld="http://www.opengis.net/sld">sld:DescribeLayer</inf:other><inf:other xmlns:sld="http://www.opengis.net/sld">sld:GetLegendGraphic</inf:other><inf:other xmlns:map="http://mapserver.gis.umn.edu/mapserver">map:GetStyles</inf:other></inf:comesBefore><inf:comesBefore qname="sld:GetLegendGraphic" xmlns:sld="http://www.opengis.net/sld"><inf:other xmlns:map="http://mapserver.gis.umn.edu/mapserver">map:GetStyles</inf:other></inf:comesBefore><inf:comesBefore qname="sld:DescribeLayer" xmlns:sld="http://www.opengis.net/sld"><inf:other>sld:GetLegendGraphic</inf:other><inf:other xmlns:map="http://mapserver.gis.umn.edu/mapserver">map:GetStyles</inf:other></inf:comesBefore><inf:comesBefore qname="wms:GetMap" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:GetFeatureInfo</inf:other><inf:other xmlns:sld="http://www.opengis.net/sld">sld:DescribeLayer</inf:other><inf:other xmlns:sld="http://www.opengis.net/sld">sld:GetLegendGraphic</inf:other><inf:other xmlns:map="http://mapserver.gis.umn.edu/mapserver">map:GetStyles</inf:other></inf:comesBefore><inf:comesBefore qname="wms:GetFeatureInfo" xmlns:wms="http://www.opengis.net/wms"><inf:other xmlns:sld="http://www.opengis.net/sld">sld:DescribeLayer</inf:other><inf:other xmlns:sld="http://www.opengis.net/sld">sld:GetLegendGraphic</inf:other><inf:other xmlns:map="http://mapserver.gis.umn.edu/mapserver">map:GetStyles</inf:other></inf:comesBefore></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>LegendURL_OnlineResource</inf:name><inf:attribute xsi:type="inf:ReferenceParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:reference xmlns:xlin="http://www.w3.org/1999/xlink">xlin:href</inf:reference></inf:attribute><inf:attribute xsi:type="inf:ReferenceParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:reference xmlns:xlin="http://www.w3.org/1999/xlink">xlin:type</inf:reference></inf:attribute><inf:content xsi:type="inf:EmptyContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Post_OnlineResource</inf:name><inf:attribute xsi:type="inf:ReferenceParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:reference xmlns:xlin="http://www.w3.org/1999/xlink">xlin:href</inf:reference></inf:attribute><inf:content xsi:type="inf:EmptyContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Style_LegendURL</inf:name><inf:attribute xsi:type="inf:AttributeParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>height</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>positiveInteger</inf:typeName></inf:type></inf:attribute><inf:attribute xsi:type="inf:AttributeParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>width</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>positiveInteger</inf:typeName></inf:type></inf:attribute><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>Format</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>OnlineResource</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:LegendURL_OnlineResource</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:Format" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:OnlineResource</inf:other></inf:comesBefore><inf:comesBefore qname="wms:OnlineResource" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>HTTP_Post</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>OnlineResource</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Post_OnlineResource</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:OnlineResource" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>WMS_Capabilities</inf:name><inf:attribute xsi:type="inf:AttributeParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>version</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:attribute><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>Service</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Capabilities_Service</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>Capability</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Capabilities_Capability</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:Service" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:Capability</inf:other></inf:comesBefore><inf:comesBefore qname="wms:Capability" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Capabilities_Service</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>Name</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>Title</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>Abstract</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>KeywordList</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Service_KeywordList</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>OnlineResource</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Service_OnlineResource</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>ContactInformation</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Service_ContactInformation</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>Fees</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>AccessConstraints</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>MaxWidth</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>positiveInteger</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>MaxHeight</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>positiveInteger</inf:typeName></inf:type></inf:particle><inf:comesBefore qname="wms:MaxWidth" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:MaxHeight</inf:other></inf:comesBefore><inf:comesBefore qname="wms:Fees" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:AccessConstraints</inf:other><inf:other>wms:MaxWidth</inf:other><inf:other>wms:MaxHeight</inf:other></inf:comesBefore><inf:comesBefore qname="wms:ContactInformation" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:Fees</inf:other><inf:other>wms:AccessConstraints</inf:other><inf:other>wms:MaxWidth</inf:other><inf:other>wms:MaxHeight</inf:other></inf:comesBefore><inf:comesBefore qname="wms:Name" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:Title</inf:other><inf:other>wms:Abstract</inf:other><inf:other>wms:KeywordList</inf:other><inf:other>wms:OnlineResource</inf:other><inf:other>wms:ContactInformation</inf:other><inf:other>wms:Fees</inf:other><inf:other>wms:AccessConstraints</inf:other><inf:other>wms:MaxWidth</inf:other><inf:other>wms:MaxHeight</inf:other></inf:comesBefore><inf:comesBefore qname="wms:AccessConstraints" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:MaxWidth</inf:other><inf:other>wms:MaxHeight</inf:other></inf:comesBefore><inf:comesBefore qname="wms:MaxHeight" xmlns:wms="http://www.opengis.net/wms"/><inf:comesBefore qname="wms:OnlineResource" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:ContactInformation</inf:other><inf:other>wms:Fees</inf:other><inf:other>wms:AccessConstraints</inf:other><inf:other>wms:MaxWidth</inf:other><inf:other>wms:MaxHeight</inf:other></inf:comesBefore><inf:comesBefore qname="wms:Title" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:Abstract</inf:other><inf:other>wms:KeywordList</inf:other><inf:other>wms:OnlineResource</inf:other><inf:other>wms:ContactInformation</inf:other><inf:other>wms:Fees</inf:other><inf:other>wms:AccessConstraints</inf:other><inf:other>wms:MaxWidth</inf:other><inf:other>wms:MaxHeight</inf:other></inf:comesBefore><inf:comesBefore qname="wms:KeywordList" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:OnlineResource</inf:other><inf:other>wms:ContactInformation</inf:other><inf:other>wms:Fees</inf:other><inf:other>wms:AccessConstraints</inf:other><inf:other>wms:MaxWidth</inf:other><inf:other>wms:MaxHeight</inf:other></inf:comesBefore><inf:comesBefore qname="wms:Abstract" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:KeywordList</inf:other><inf:other>wms:OnlineResource</inf:other><inf:other>wms:ContactInformation</inf:other><inf:other>wms:Fees</inf:other><inf:other>wms:AccessConstraints</inf:other><inf:other>wms:MaxWidth</inf:other><inf:other>wms:MaxHeight</inf:other></inf:comesBefore></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Layer_KeywordList</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>Keyword</inf:name><inf:attribute key="maxOccurs" value="4"/><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:comesBefore qname="wms:Keyword" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Layer_Style</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>Name</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>Title</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>LegendURL</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Style_LegendURL</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:Name" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:Title</inf:other><inf:other>wms:LegendURL</inf:other></inf:comesBefore><inf:comesBefore qname="wms:LegendURL" xmlns:wms="http://www.opengis.net/wms"/><inf:comesBefore qname="wms:Title" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:LegendURL</inf:other></inf:comesBefore></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Request_GetFeatureInfo</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>Format</inf:name><inf:attribute key="maxOccurs" value="2"/><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>DCPType</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:GetFeatureInfo_DCPType</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:Format" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:DCPType</inf:other></inf:comesBefore><inf:comesBefore qname="wms:DCPType" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>_DCPType</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>HTTP</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:DCPType_HTTP</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:HTTP" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Service_KeywordList</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>Keyword</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:comesBefore qname="wms:Keyword" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Layer_Layer</inf:name><inf:attribute xsi:type="inf:AttributeParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>cascaded</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>boolean</inf:typeName></inf:type></inf:attribute><inf:attribute xsi:type="inf:AttributeParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>opaque</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>boolean</inf:typeName></inf:type></inf:attribute><inf:attribute xsi:type="inf:AttributeParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>queryable</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>boolean</inf:typeName></inf:type></inf:attribute><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>Name</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>Title</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>Abstract</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>KeywordList</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Layer_KeywordList</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>CRS</inf:name><inf:attribute key="maxOccurs" value="18"/><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>EX_GeographicBoundingBox</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:EX_GeographicBoundingBox</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>Style</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Layer_Style</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>MaxScaleDenominator</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:comesBefore qname="wms:Name" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:Title</inf:other><inf:other>wms:Abstract</inf:other><inf:other>wms:KeywordList</inf:other><inf:other>wms:CRS</inf:other><inf:other>wms:EX_GeographicBoundingBox</inf:other><inf:other>wms:Style</inf:other><inf:other>wms:MaxScaleDenominator</inf:other></inf:comesBefore><inf:comesBefore qname="wms:CRS" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:EX_GeographicBoundingBox</inf:other><inf:other>wms:Style</inf:other><inf:other>wms:MaxScaleDenominator</inf:other></inf:comesBefore><inf:comesBefore qname="wms:Style" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:MaxScaleDenominator</inf:other></inf:comesBefore><inf:comesBefore qname="wms:EX_GeographicBoundingBox" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:Style</inf:other><inf:other>wms:MaxScaleDenominator</inf:other></inf:comesBefore><inf:comesBefore qname="wms:MaxScaleDenominator" xmlns:wms="http://www.opengis.net/wms"/><inf:comesBefore qname="wms:Title" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:Abstract</inf:other><inf:other>wms:KeywordList</inf:other><inf:other>wms:CRS</inf:other><inf:other>wms:EX_GeographicBoundingBox</inf:other><inf:other>wms:Style</inf:other><inf:other>wms:MaxScaleDenominator</inf:other></inf:comesBefore><inf:comesBefore qname="wms:KeywordList" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:CRS</inf:other><inf:other>wms:EX_GeographicBoundingBox</inf:other><inf:other>wms:Style</inf:other><inf:other>wms:MaxScaleDenominator</inf:other></inf:comesBefore><inf:comesBefore qname="wms:Abstract" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:KeywordList</inf:other><inf:other>wms:CRS</inf:other><inf:other>wms:EX_GeographicBoundingBox</inf:other><inf:other>wms:Style</inf:other><inf:other>wms:MaxScaleDenominator</inf:other></inf:comesBefore></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>HTTP_Get</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>OnlineResource</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Get_OnlineResource</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:OnlineResource" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Capabilities_Capability</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>Request</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Capability_Request</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>Exception</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Capability_Exception</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ReferenceParticle"><inf:reference xmlns:sld="http://www.opengis.net/sld">sld:UserDefinedSymbolization</inf:reference></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>Layer</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Capability_Layer</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:Layer" xmlns:wms="http://www.opengis.net/wms"/><inf:comesBefore qname="sld:UserDefinedSymbolization" xmlns:sld="http://www.opengis.net/sld"><inf:other xmlns:wms="http://www.opengis.net/wms">wms:Layer</inf:other></inf:comesBefore><inf:comesBefore qname="wms:Exception" xmlns:wms="http://www.opengis.net/wms"><inf:other xmlns:sld="http://www.opengis.net/sld">sld:UserDefinedSymbolization</inf:other><inf:other>wms:Layer</inf:other></inf:comesBefore><inf:comesBefore qname="wms:Request" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:Exception</inf:other><inf:other xmlns:sld="http://www.opengis.net/sld">sld:UserDefinedSymbolization</inf:other><inf:other>wms:Layer</inf:other></inf:comesBefore></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>ContactInformation_ContactPersonPrimary</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>ContactPerson</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>ContactOrganization</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:comesBefore qname="wms:ContactPerson" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:ContactOrganization</inf:other></inf:comesBefore><inf:comesBefore qname="wms:ContactOrganization" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>GetCapabilities_DCPType</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>HTTP</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:DCPType_HTTP</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:HTTP" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Service_OnlineResource</inf:name><inf:attribute xsi:type="inf:ReferenceParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:reference xmlns:xlin="http://www.w3.org/1999/xlink">xlin:href</inf:reference></inf:attribute><inf:content xsi:type="inf:EmptyContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>EX_GeographicBoundingBox</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>westBoundLongitude</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>decimal</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>eastBoundLongitude</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>decimal</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>southBoundLatitude</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>decimal</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>northBoundLatitude</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>decimal</inf:typeName></inf:type></inf:particle><inf:comesBefore qname="wms:southBoundLatitude" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:northBoundLatitude</inf:other></inf:comesBefore><inf:comesBefore qname="wms:eastBoundLongitude" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:southBoundLatitude</inf:other><inf:other>wms:northBoundLatitude</inf:other></inf:comesBefore><inf:comesBefore qname="wms:northBoundLatitude" xmlns:wms="http://www.opengis.net/wms"/><inf:comesBefore qname="wms:westBoundLongitude" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:eastBoundLongitude</inf:other><inf:other>wms:southBoundLatitude</inf:other><inf:other>wms:northBoundLatitude</inf:other></inf:comesBefore></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Request_GetCapabilities</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>Format</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>DCPType</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:GetCapabilities_DCPType</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:Format" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:DCPType</inf:other></inf:comesBefore><inf:comesBefore qname="wms:DCPType" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>GetMap_DCPType</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>HTTP</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:DCPType_HTTP</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:HTTP" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Service_ContactInformation</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>ContactPersonPrimary</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:ContactInformation_ContactPersonPrimary</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>ContactVoiceTelephone</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>ContactFacsimileTelephone</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle"><inf:name>ContactElectronicMailAddress</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:comesBefore qname="wms:ContactPersonPrimary" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:ContactVoiceTelephone</inf:other><inf:other>wms:ContactFacsimileTelephone</inf:other><inf:other>wms:ContactElectronicMailAddress</inf:other></inf:comesBefore><inf:comesBefore qname="wms:ContactFacsimileTelephone" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:ContactElectronicMailAddress</inf:other></inf:comesBefore><inf:comesBefore qname="wms:ContactElectronicMailAddress" xmlns:wms="http://www.opengis.net/wms"/><inf:comesBefore qname="wms:ContactVoiceTelephone" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:ContactFacsimileTelephone</inf:other><inf:other>wms:ContactElectronicMailAddress</inf:other></inf:comesBefore></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>Get_OnlineResource</inf:name><inf:attribute xsi:type="inf:ReferenceParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:reference xmlns:xlin="http://www.w3.org/1999/xlink">xlin:href</inf:reference></inf:attribute><inf:content xsi:type="inf:EmptyContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>GetFeatureInfo_DCPType</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ElementParticle"><inf:name>HTTP</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:DCPType_HTTP</inf:reference></inf:type></inf:particle><inf:comesBefore qname="wms:HTTP" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType></inf:schema><inf:schema xmlns:inf="http://www.eviware.com/soapui/InferredSchema"><inf:namespace>http://www.w3.org/1999/xlink</inf:namespace><inf:particle xsi:type="inf:AttributeParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>href</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:particle xsi:type="inf:AttributeParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>type</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>string</inf:typeName></inf:type></inf:particle><inf:prefix key="http://www.w3.org/2001/XMLSchema" value="xs"/></inf:schema><inf:schema xmlns:inf="http://www.eviware.com/soapui/InferredSchema"><inf:namespace>http://www.opengis.net/sld</inf:namespace><inf:particle xsi:type="inf:ElementParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>UserDefinedSymbolization</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:sld="http://www.opengis.net/sld">sld:_UserDefinedSymbolization</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>DescribeLayer</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:sld="http://www.opengis.net/sld">sld:_DescribeLayer</inf:reference></inf:type></inf:particle><inf:particle xsi:type="inf:ElementParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>GetLegendGraphic</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:sld="http://www.opengis.net/sld">sld:_GetLegendGraphic</inf:reference></inf:type></inf:particle><inf:prefix key="http://www.opengis.net/wms" value=""/><inf:prefix key="http://www.w3.org/2001/XMLSchema" value="xs"/><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>_GetLegendGraphic</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ReferenceParticle"><inf:attribute key="maxOccurs" value="5"/><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Format</inf:reference></inf:particle><inf:particle xsi:type="inf:ReferenceParticle"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:DCPType</inf:reference></inf:particle><inf:comesBefore qname="wms:Format" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:DCPType</inf:other></inf:comesBefore><inf:comesBefore qname="wms:DCPType" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>_DescribeLayer</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ReferenceParticle"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Format</inf:reference></inf:particle><inf:particle xsi:type="inf:ReferenceParticle"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:DCPType</inf:reference></inf:particle><inf:comesBefore qname="wms:Format" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:DCPType</inf:other></inf:comesBefore><inf:comesBefore qname="wms:DCPType" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>_UserDefinedSymbolization</inf:name><inf:attribute xsi:type="inf:AttributeParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>RemoteWCS</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>boolean</inf:typeName></inf:type></inf:attribute><inf:attribute xsi:type="inf:AttributeParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>RemoteWFS</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>boolean</inf:typeName></inf:type></inf:attribute><inf:attribute xsi:type="inf:AttributeParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>UserStyle</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>positiveInteger</inf:typeName></inf:type></inf:attribute><inf:attribute xsi:type="inf:AttributeParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>UserLayer</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>boolean</inf:typeName></inf:type></inf:attribute><inf:attribute xsi:type="inf:AttributeParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>InlineFeature</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>boolean</inf:typeName></inf:type></inf:attribute><inf:attribute xsi:type="inf:AttributeParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>SupportSLD</inf:name><inf:type xsi:type="inf:SimpleType"><inf:completed>false</inf:completed><inf:typeName>positiveInteger</inf:typeName></inf:type></inf:attribute><inf:content xsi:type="inf:EmptyContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed></inf:content></inf:complexType></inf:schema><inf:schema xmlns:inf="http://www.eviware.com/soapui/InferredSchema"><inf:namespace>http://mapserver.gis.umn.edu/mapserver</inf:namespace><inf:particle xsi:type="inf:ElementParticle" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:name>GetStyles</inf:name><inf:type xsi:type="inf:TypeReference"><inf:reference xmlns:map="http://mapserver.gis.umn.edu/mapserver">map:_GetStyles</inf:reference></inf:type></inf:particle><inf:prefix key="http://www.opengis.net/wms" value=""/><inf:prefix key="http://www.w3.org/2001/XMLSchema" value="xs"/><inf:complexType><inf:completed>true</inf:completed><inf:mixed>false</inf:mixed><inf:name>_GetStyles</inf:name><inf:content xsi:type="inf:SequenceContent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><inf:completed>true</inf:completed><inf:particle xsi:type="inf:ReferenceParticle"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:Format</inf:reference></inf:particle><inf:particle xsi:type="inf:ReferenceParticle"><inf:reference xmlns:wms="http://www.opengis.net/wms">wms:DCPType</inf:reference></inf:particle><inf:comesBefore qname="wms:Format" xmlns:wms="http://www.opengis.net/wms"><inf:other>wms:DCPType</inf:other></inf:comesBefore><inf:comesBefore qname="wms:DCPType" xmlns:wms="http://www.opengis.net/wms"/></inf:content></inf:complexType></inf:schema></xml-fragment>]]></con:inferredSchema></con:interface><con:testSuite name="TestSetup"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Requirements" searchProperties="true" id="4e183189-f8a1-4596-96af-79fbda135655"><con:settings/><con:properties><con:property><con:name>etf.ShortDescription</con:name><con:value>NL WMS Profiel voor WMS 1.3.0 versie 1.1 tests</con:value></con:property><con:property><con:name>etf.Author</con:name><con:value>Thijs Brentjens</con:value></con:property><con:property><con:name>etf.LastEditor</con:name><con:value>Brentjens</con:value></con:property><con:property><con:name>etf.ExpectedResults</con:name><con:value/></con:property><con:property><con:name>etf.CreationDate</con:name><con:value>2015-07-20T10:45:04.061+02:00</con:value></con:property><con:property><con:name>etf.LastUpdateDate</con:name><con:value>2015-07-20T16:45:04.063+02:00</con:value></con:property><con:property><con:name>etf.Version</con:name><con:value>1.0.0</con:value></con:property><con:property><con:name>etf.AssociatedRequirements</con:name><con:value/></con:property><con:property><con:name>etf.Status</con:name><con:value>IMPLEMENTED</con:value></con:property><con:property><con:name>Verplicht-WMS__Name</con:name><con:value>Verplichte kenmerken Nederlands profiel op ISO 19128   WMS 1.3.0 versie 1.1</con:value></con:property><con:property><con:name>Verplicht-WMS__Description</con:name><con:value>Verplichte kenmerken Nederlands profiel op ISO 19128   WMS 1.3.0 versie 1.1. Dit deel van de tests controleert de WMS op de verplichte kenmerken van het profiel, zoals beschreven in paragraaf 4.1 van het profiel (http://www.geonovum.nl/sites/default/files/Nederlands%20profiel%20op%20ISO%2019128%20WMS%201%203%20-%20versie%201%201%20definitief.pdf)</con:value></con:property><con:property><con:name>Verplicht-WMS__Reference</con:name><con:value>Paragraaf 4.1 van het profiel, http://www.geonovum.nl/wegwijzer/standaarden/nederlands-profiel-web-map-service-op-iso-19128-versie-11</con:value></con:property><con:property><con:name>Verplicht-WMS##1__Name</con:name><con:value>WMS 1.3.0 / ISO 19128</con:value></con:property><con:property><con:name>Verplicht-WMS##1__Description</con:name><con:value>De WMS dient te voldoen aan de Web Map Service  Implementation Specification, EN  ISO 19128:2005(E) : Geographic information - Web map server interface - (WMS 1.3.0). </con:value></con:property><con:property><con:name>Verplicht-WMS##1__Reference</con:name><con:value>Kenmerk 1, paragraaf 4.1</con:value></con:property><con:property><con:name>Verplicht-WMS##2__Name</con:name><con:value>Ondersteun PNG of GIF formaat. Bij beeldmateriaal eventueel JPEG.</con:value></con:property><con:property><con:name>Verplicht-WMS##2__Description</con:name><con:value>De WMS dient in ieder geval het formaat PNG (MIME type "image/png") of GIF (MIME type image/gif) te ondersteunen. De aanbieder van de dienst bepaalt of dit formaat 8 - bit of 24 - bit is (zie 4.3, aanbeveling 9). Indien de WMS beeldmateriaal aanbiedt en niet voor INSPIRE aangewezen is, is het toegestaan JPEG te ondersteunen als transparantie op de betreffende WMS lagen niet van toepassing is.</con:value></con:property><con:property><con:name>Verplicht-WMS##2__Reference</con:name><con:value>Kenmerk 2, paragraaf 4.1</con:value></con:property><con:property><con:name>Verplicht-WMS##3__Name</con:name><con:value>Ondersteuning voor cordinaat referentie systemen</con:value></con:property><con:property><con:name>Verplicht-WMS##3__Description</con:name><con:value>Ondersteun tenminste n van: Amersfoort / RD New (EPSG:28992), selectie van Europese systemen op basis van ETRS89 (EPSG:25830, EPSG:25831, EPSG:25832, EPSG:3034, EPSG:3035) of WGS84 (EPSG:4326)</con:value></con:property><con:property><con:name>Verplicht-WMS##3__Reference</con:name><con:value>Kenmerk 3, paragraaf 4.1</con:value></con:property><con:property><con:name>Verplicht-WMS##4a-1__Name</con:name><con:value>Minimaal 1 MetadataURL aanwezig</con:value></con:property><con:property><con:name>Verplicht-WMS##4a-1__Description</con:name><con:value>Per WMS layer dient voor elke node direct, via een parent of via een child een MetadataURL opgenomen te worden. Er dient dus op zijn minst 1 MetadataURL te zijn. Zie ook controle 4a-2. </con:value></con:property><con:property><con:name>Verplicht-WMS##4a-1__Reference</con:name><con:value>Kenmerk 4a, paragraaf 4.1</con:value></con:property><con:property><con:name>Verplicht-WMS##4a-2__Name</con:name><con:value>Voor elke WMS Layer is metadata van data aanwezig via een MetadataURL</con:value></con:property><con:property><con:name>Verplicht-WMS##4a-2__Description</con:name><con:value>Per WMS layer dient voor elke node direct, via een parent of via een child een MetadataURL opgenomen te worden. De MetadataURL dient te verwijzen naar een metadata XML-bestand opgebouwd volgens Nederlandse profiel op ISO 19115 voor geografie, versie 1.2</con:value></con:property><con:property><con:name>Verplicht-WMS##4a-2__Reference</con:name><con:value>Kenmerk 4a, paragraaf 4.1</con:value></con:property><con:property><con:name>Verplicht-WMS##4a-3__Name</con:name><con:value>Metadata XML schema validatie</con:value></con:property><con:property><con:name>Verplicht-WMS##4a-3__Description</con:name><con:value>De MetadataURL dient te verwijzen naar een metadata XML-bestand opgebouwd volgens Nederlandse profiel op ISO 19115 voor geografie, versie 1.2. De metadata dient te valideren tegen het XML schema.</con:value></con:property><con:property><con:name>Verplicht-WMS##4a-3__Reference</con:name><con:value>Kenmerk 4a, paragraaf 4.1</con:value></con:property><con:property><con:name>Verplicht-WMS##4a-4__Name</con:name><con:value>Geldige metadata er is een root element MD_Metadata</con:value></con:property><con:property><con:name>Verplicht-WMS##4a-4__Description</con:name><con:value>De MetadataURL dient te verwijzen naar een metadata XML-bestand opgebouwd volgens Nederlandse profiel op ISO 19115 voor geografie, versie 1.2.</con:value></con:property><con:property><con:name>Verplicht-WMS##4a-4__Reference</con:name><con:value>Kenmerk 4a, paragraaf 4.1</con:value></con:property><con:property><con:name>Verplicht-WMS##4a-5__Name</con:name><con:value>De metadata heeft een fileIdentifier</con:value></con:property><con:property><con:name>Verplicht-WMS##4a-5__Description</con:name><con:value>De MetadataURL dient te verwijzen naar een metadata XML-bestand opgebouwd volgens Nederlandse profiel op ISO 19115 voor geografie, versie 1.2. De fileIdentifier is noodzakelijk, onder andere omdat dit verwijzingen in de service metadata mogelijk maakt.</con:value></con:property><con:property><con:name>Verplicht-WMS##4a-5__Reference</con:name><con:value>Kenmerk 4a, paragraaf 4.1</con:value></con:property><con:property><con:name>Verplicht-WMS##5a__Name</con:name><con:value>Alle Layers hebben een Style element</con:value></con:property><con:property><con:name>Verplicht-WMS##5a__Description</con:name><con:value>Biedt voor elke laag (via een parent of via een child) tenminste n weergavestijl, die in het Capabilities document gepubliceerd is in de Style elementen. </con:value></con:property><con:property><con:name>Verplicht-WMS##5a__Reference</con:name><con:value>Kenmerk 5, paragraaf 4.1</con:value></con:property><con:property><con:name>Verplicht-WMS##5b__Name</con:name><con:value>Voor alle Style elementen is een LegendURL beschikbaar</con:value></con:property><con:property><con:name>Verplicht-WMS##5b__Description</con:name><con:value>Per WMS layer dient voor elke laag direct, via een parent of via een child een legenda beschikbaar te zijn. Zie ook kenmerk 6.</con:value></con:property><con:property><con:name>Verplicht-WMS##5b__Reference</con:name><con:value>Kenmerk 5, paragraaf 4.1</con:value></con:property><con:property><con:name>Verplicht-WMS##6__Name</con:name><con:value>De LegendURL verwijst naar een afbeelding</con:value></con:property><con:property><con:name>Verplicht-WMS##6__Description</con:name><con:value>Per WMS layer dient voor elke laag direct, via een parent of via een child een legenda beschikbaar te zijn. De LegendURL verwijst naar deze legenda.</con:value></con:property><con:property><con:name>Verplicht-WMS##6__Reference</con:name><con:value>Kenmerk 6, paragraaf 4.1</con:value></con:property><con:property><con:name>Verplicht-WMS##7__Name</con:name><con:value>GetFeatureInfo biedt text/xml als response format</con:value></con:property><con:property><con:name>Verplicht-WMS##7__Description</con:name><con:value>Indien de WMS de functie GetFeatureInfo ondersteunt, dient de respons tenminste volgens het formaat text/xml geleverd te worden. Gebruik indien mogelijkhiervoor het subType= gml/3.1.1.</con:value></con:property><con:property><con:name>Verplicht-WMS##7__Reference</con:name><con:value>Kenmerk 7, paragraaf 4.1</con:value></con:property><con:property><con:name>Verplicht-WMS##8a__Name</con:name><con:value>GetMap met transparantie levert een geldige afbeelding op. MIME-type.</con:value></con:property><con:property><con:name>Verplicht-WMS##8a__Description</con:name><con:value>De WMS dient achtergrondtransparantie te ondersteunen (TRANSPARENT = TRUE). Indien de WMS alleen beeldmateriaal aanbiedt in JPEG bestandsformaat en niet voor INSPIRE aangewezen is, is transparantie op de betreffende WMS lagen niet vereist. Deze controle test of het MIME-type van een afbeelding is.</con:value></con:property><con:property><con:name>Verplicht-WMS##8a__Reference</con:name><con:value>Kenmerk 8, paragraaf 4.1</con:value></con:property><con:property><con:name>Verplicht-WMS##8b__Name</con:name><con:value>GetMap met transparantie levert een geldige afbeelding op. Grootte.</con:value></con:property><con:property><con:name>Verplicht-WMS##8b__Description</con:name><con:value>De WMS dient achtergrondtransparantie te ondersteunen (TRANSPARENT = TRUE). Indien de WMS alleen beeldmateriaal aanbiedt in JPEG bestandsformaat en niet voor INSPIRE aangewezen is, is transparantie op de betreffende WMS lagen niet vereist. Deze controle test of het het response niet leeg is.</con:value></con:property><con:property><con:name>Verplicht-WMS##8b__Reference</con:name><con:value>Kenmerk 8, paragraaf 4.1</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Transfer Global Properties" searchProperties="true" id="2a859022-7e49-4d80-9a3f-681ed0472b53"><con:settings/><con:testStep type="transfer" name="Transfer Global Properties" id="80b2d7ab-165c-4160-9bab-fd9ceb0e70d2"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="false" transferTextContent="true" failOnError="false" ignoreEmpty="true" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false" disabled="false"><con:name>endPoint</con:name><con:sourceType>VS.serviceEndpoint</con:sourceType><con:sourceStep>#Global#</con:sourceStep><con:targetType>serviceEndpoint</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="true" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>basicAuthUser</con:name><con:sourceType>VS.basicAuthUser</con:sourceType><con:sourceStep>#Global#</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>authUser</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" disabled="false" entitize="false" ignoreEmpty="true" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>basicAuthPwd</con:name><con:sourceType>VS.basicAuthPwd</con:sourceType><con:sourceStep>#Global#</con:sourceStep><con:sourcePath xsi:nil="true"/><con:targetType>authPwd</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath xsi:nil="true"/></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" ignoreEmpty="true" transferToAll="false" entitize="false" transferChildNodes="false" useXQuery="false" disabled="false"><con:name>layer</con:name><con:sourceType>VS.LAYER</con:sourceType><con:sourceStep>#Global#</con:sourceStep><con:targetType>layer</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" transferToAll="false" transferChildNodes="false" ignoreEmpty="true" useXQuery="false" disabled="false" entitize="false"><con:name>minlat</con:name><con:sourceType>VS.minlat</con:sourceType><con:sourceStep>#Global#</con:sourceStep><con:targetType>minlat</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" ignoreEmpty="true" transferToAll="false" entitize="false" disabled="false"><con:name>minlon</con:name><con:sourceType>VS.minlon</con:sourceType><con:sourceStep>#Global#</con:sourceStep><con:targetType>minlon</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" ignoreEmpty="true" useXQuery="false" transferChildNodes="false" disabled="false"><con:name>maxlat</con:name><con:sourceType>VS.maxlat</con:sourceType><con:sourceStep>#Global#</con:sourceStep><con:targetType>maxlat</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="false" ignoreEmpty="true" transferToAll="false" entitize="false" disabled="false"><con:name>maxlon</con:name><con:sourceType>VS.maxlon</con:sourceType><con:sourceStep>#Global#</con:sourceStep><con:targetType>maxlon</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="false" transferTextContent="true" failOnError="false" ignoreEmpty="true" useXQuery="false" transferChildNodes="false" transferToAll="false" entitize="false" disabled="false"><con:name>bbox</con:name><con:sourceType>VS.BBOX</con:sourceType><con:sourceStep>#Global#</con:sourceStep><con:targetType>bbox</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers></con:config></con:testStep><con:properties><con:property><con:name>etf.ShortDescription</con:name><con:value/></con:property><con:property><con:name>etf.Author</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.LastEditor</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.ExpectedResults</con:name><con:value/></con:property><con:property><con:name>etf.CreationDate</con:name><con:value>2015-07-13T16:45:04.071+02:00</con:value></con:property><con:property><con:name>etf.LastUpdateDate</con:name><con:value>2015-07-13T16:45:04.072+02:00</con:value></con:property><con:property><con:name>etf.Version</con:name><con:value>1.0.0</con:value></con:property><con:property><con:name>etf.AssociatedRequirements</con:name><con:value/></con:property><con:property><con:name>etf.Status</con:name><con:value>IMPLEMENTED</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Update Credentials" searchProperties="true" id="8b9aa68d-9d0a-4d57-a0ba-8d9b9b1c40b7"><con:settings/><con:testStep type="groovy" name="Update Credentials" id="3b990ba4-0895-4eeb-86b0-cdba712c60cf"><con:settings/><con:config><script>import de.interactive_instruments.Util;

/** Set the credentials only if a username is provided */
def basicAuthUser = context.expand('${#Project#basicAuthUser}');
if (basicAuthUser.length()>0) {
	log.info("Setting credentials for user: " + basicAuthUser);
	Util.updateCredentials(testRunner);
}
</script></con:config></con:testStep><con:properties><con:property><con:name>etf.ShortDescription</con:name><con:value/></con:property><con:property><con:name>etf.Author</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.LastEditor</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.ExpectedResults</con:name><con:value/></con:property><con:property><con:name>etf.CreationDate</con:name><con:value>2015-07-13T16:45:04.082+02:00</con:value></con:property><con:property><con:name>etf.LastUpdateDate</con:name><con:value>2015-07-13T16:45:04.082+02:00</con:value></con:property><con:property><con:name>etf.Version</con:name><con:value>1.0.0</con:value></con:property><con:property><con:name>etf.AssociatedRequirements</con:name><con:value/></con:property><con:property><con:name>etf.Status</con:name><con:value>IMPLEMENTED</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Update Query Params" searchProperties="true" id="2789c834-b618-4c29-9bfa-c96affd9cf6a"><con:settings/><con:testStep type="groovy" name="UpdateQueryParams" id="6d36ab28-39c4-4b53-ae77-9e7a8fa8e393"><con:settings/><con:config><script>// if any non-WMS parameters are found, add them to the GetCapabilities request
// author: Thijs Brentjens

import com.eviware.soapui.impl.wsdl.teststeps.*;

c = testRunner.getRunContext();

URL endpoint = new URL(c.expand('${#Project#serviceEndpoint}'));
if (endpoint.getQuery()) {
    def queryParams = endpoint.getQuery().split("&amp;");

    // default params for GetCapabilities:
    // filter out version
    def defaultParamsGetCaps = ["acceptversions","service","request","language"];

    for (p in queryParams) {
        for (d in defaultParamsGetCaps) {
            if (p.split("=")[0].toLowerCase() == d) {
                queryParams = queryParams - p;
            }
        }
        log.debug("Queryparams from serviceEndpoint cleaned. Aditional queryparams left: " + queryParams);
    }

    // For REST requests, add additional query parameters
    // Here for GetCapabilities only
    if (queryParams.length > 0) {
        // for GetCapabilities: update all requests with other parameters from the serviceEndpoint
        for( testSuite in testRunner.testCase.testSuite.project.getTestSuiteList() ) {
            for( testCase in testSuite.getTestCaseList() ) {
                for( testStep in testCase.getTestStepList() ) {
                    if( testStep instanceof HttpTestRequestStep ) {
                        // First: cleanup old extra params, if the tests have been saved with aditional params a previous time
                       def getCapsReq = false;
                        for (prop in testStep.getHttpRequest().getProperties()) {
                        	       if (prop.getValue().getValue()=="GetCapabilities") {
                                	getCapsReq = true;
                                }
                            }
                        if (getCapsReq) {
                            // first remove any other params
                            for (prop in testStep.getHttpRequest().getProperties()) {
                                    defaultParam = 0;
                                    log.debug("HTTP param: " + prop.getKey())
                                    for (d in defaultParamsGetCaps) {
                                    if (prop.getKey().toLowerCase() == d) {
                                        defaultParam = 1;
                                    }
                                }
                                // if not a defaultParam, remove it
                                if (defaultParam == 0) {
                                        testStep.getHttpRequest().removeProperty(prop.getKey());
                                        log.debug("Removed non-standard query parameter from the request: " + prop.getKey())
                                }
                            }
                            // now add the extra params from the query string
                            for (q in queryParams) {
                                    def pair = q.split("=");
                                    testStep.getHttpRequest().addProperty(pair[0]);
                                    testStep.getHttpRequest().setPropertyValue(pair[0], pair[1]);
                                    log.debug("Added non-standard query parameter for the Getcapabilities requests: " + pair[0] + "=" + pair[1])
                            }
                        }
                    }
                }
            }
        };
    }

}

</script></con:config></con:testStep><con:properties><con:property><con:name>etf.ShortDescription</con:name><con:value/></con:property><con:property><con:name>etf.Author</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.LastEditor</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.ExpectedResults</con:name><con:value/></con:property><con:property><con:name>etf.CreationDate</con:name><con:value>2015-07-13T16:45:04.085+02:00</con:value></con:property><con:property><con:name>etf.LastUpdateDate</con:name><con:value>2015-07-13T16:45:04.086+02:00</con:value></con:property><con:property><con:name>etf.Version</con:name><con:value>1.0.0</con:value></con:property><con:property><con:name>etf.AssociatedRequirements</con:name><con:value/></con:property><con:property><con:name>etf.Status</con:name><con:value>IMPLEMENTED</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite name="Verplicht-WMS"><con:description>For various combinations of valid mandatory request parameters validate
 that the view service returns a valid XML file, checked against the WMS 
1.3.0 GetCapabilties Response schema.</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Verplichtingen WMS Capabilities" searchProperties="true" id="ca38c417-76c9-48f3-a69e-945beb859d0c" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword=""><con:settings/><con:testStep type="properties" name="Properties" id="9beb705d-4c3b-4056-a3c2-32e3dfe3b7a4"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>firstlayer</con:name><con:value>0</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="GetCapabilities" id="518359ca-9081-4619-af8c-a34b2892cbad"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GetCapabilities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#serviceEndpoint}</con:endpoint><con:request/><con:assertion type="Response SLA Assertion" name="Response SLA" id="c760b394-2316-4d2c-9827-93b01a13d454"><con:configuration><SLA>5000</SLA></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Timeout" id="8163c21f-2133-4923-8827-a67997abddee"><con:configuration><scriptText>// check response time
log.info( "time taken was :" + messageExchange.timeTaken );

</scriptText></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Verplicht-WMS##1: WMS Versie is 1.3.0" id="07070711-1126-4cd9-af12-e9bb3e68c441"><con:configuration><path>declare namespace wms='http://www.opengis.net/wms';

&lt;result>AssertionFailures:
{
for $obj in /wms:WMS_Capabilities
let $nm:=$obj/@version
where $nm!='1.3.0'
return concat(" version should be 1.3.0, but version in WMS Capabilities is: ", data($nm))
}
&lt;/result></path><content>&lt;result>AssertionFailures:&lt;/result></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Verplicht-WMS##2: GetMap ondersteunt PNG of GIF. Of JPEG (voor beeldmateriaal)" id="5b5677cc-0ec8-469d-92f6-e89dfe8b909b"><con:configuration><path>declare namespace wms='http://www.opengis.net/wms';

&lt;result>AssertionFailures: format image/png or image/gif or image/jpeg is { 
let $formats:=/wms:WMS_Capabilities/wms:Capability/wms:Request/wms:GetMap/wms:Format
return
if (exists(index-of($formats,"image/png")) or exists(index-of($formats,"image/gif")) or exists(index-of($formats,"image/jpeg")))
then "supported"
else "not supported"
}
&lt;/result></path><content>&lt;result>AssertionFailures: format image/png or image/gif or image/jpeg is supported&lt;/result></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Verplicht-WMS##3: Ondersteun tenminste een CRS uit de genoemde lijst" id="e7a5eebe-01a5-4300-9fb4-fed6e3122373"><con:configuration><path>declare namespace wms='http://www.opengis.net/wms';

&lt;result>AssertionFailures: {
for $namedLayer in //wms:Layer[exists(wms:Name)]
let $crs:=//$namedLayer/ancestor-or-self::wms:Layer/wms:CRS
let $crslist:=string-join($crs,", ")
return
if (exists(index-of($crs,"EPSG:28992")) or exists(index-of($crs,"EPSG:4258")) or exists(index-of($crs,"EPSG:25830")) or exists(index-of($crs,"EPSG:25831"))  or exists(index-of($crs,"EPSG:25832")) or exists(index-of($crs,"EPSG:3034")) or exists(index-of($crs,"EPSG:3035"))  or exists(index-of($crs,"EPSG:4326")))
then ""
else concat(" the layer ",$namedLayer/wms:Name," is not offered in at least one of the CRSes: EPSG:28992, EPSG:4258, EPSG:25830,EPSG:25831, EPSG:25832, EPSG:3034, EPSG:3035 or EPSG:4326. But is offered in: ", $crslist)
}
&lt;/result></path><content>&lt;result>AssertionFailures: &lt;/result></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>VERSION</con:name><con:value>1.3.0</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>SERVICE</con:name><con:value>WMS</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>REQUEST</con:name><con:value>GetCapabilities</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="a859bfa0-c054-41ec-8542-5c0092e34a83"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>firstlayer</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GetCapabilities</con:sourceStep><con:sourcePath>declare namespace wms='http://www.opengis.net/wms';
(//wms:Layer[wms:Name and empty(./wms:Layer[exists(wms:Name)]) and (ancestor-or-self::wms:Layer/wms:BoundingBox/@CRS='EPSG:28992'  or ancestor-or-self::wms:Layer/wms:BoundingBox/@CRS='EPSG:4258' or ancestor-or-self::wms:Layer/wms:BoundingBox/@CRS='EPSG:4326' or ancestor-or-self::wms:Layer/wms:BoundingBox/@CRS='CRS:84')][1]/wms:Name)[1]</con:sourcePath><con:targetType>firstlayercapabilities</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath/></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" entitize="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false"><con:name>layerlist</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GetCapabilities</con:sourceStep><con:sourcePath>declare namespace wms='http://www.opengis.net/wms';
string-join(//wms:Layer[wms:Name and (ancestor-or-self::wms:Layer/wms:BoundingBox/@CRS='EPSG:28992'  or ancestor-or-self::wms:Layer/wms:BoundingBox/@CRS='EPSG:4258' or ancestor-or-self::wms:Layer/wms:BoundingBox/@CRS='EPSG:4326' or ancestor-or-self::wms:Layer/wms:BoundingBox/@CRS='CRS:84')][1]/wms:Name,',')</con:sourcePath><con:targetType>layerList</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false" transferToAll="false"><con:name>getMapUrl</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GetCapabilities</con:sourceStep><con:sourcePath>declare namespace wms='http://www.opengis.net/wms';
declare namespace xlink='http://www.w3.org/1999/xlink';
/wms:WMS_Capabilities/wms:Capability/wms:Request/wms:GetMap/wms:DCPType/wms:HTTP/wms:Get/wms:OnlineResource/@xlink:href</con:sourcePath><con:targetType>getMapUrl</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" entitize="false" transferToAll="false" useXQuery="false" transferChildNodes="false" ignoreEmpty="false"><con:name>metadataUrl</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GetCapabilities</con:sourceStep><con:sourcePath>declare namespace wms='http://www.opengis.net/wms';
declare namespace xlink='http://www.w3.org/1999/xlink';
/wms:WMS_Capabilities/wms:Capability[1]/wms:Layer[1]/wms:Layer[1]/wms:MetadataURL[1]/wms:OnlineResource[1]/@xlink:href</con:sourcePath><con:targetType>metadataUrl</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" useXQuery="false" transferChildNodes="false" transferToAll="false" entitize="false"><con:name>firstlayercrs</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GetCapabilities</con:sourceStep><con:sourcePath>declare namespace wms='http://www.opengis.net/wms';
(//wms:Layer[wms:Name='${#Project#firstlayercapabilities}'][1]/ancestor-or-self::wms:Layer/wms:BoundingBox[@CRS='EPSG:28992' or @CRS='EPSG:4258' or @CRS='EPSG:4326' or @CRS='CRS:84'][1]/@CRS)[1]</con:sourcePath><con:targetType>firstlayercrs</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" entitize="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false"><con:name>minlon</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GetCapabilities</con:sourceStep><con:sourcePath>declare namespace wms='http://www.opengis.net/wms';
(//wms:Layer[wms:Name='${#Project#firstlayercapabilities}'][1]/ancestor-or-self::wms:Layer/wms:BoundingBox[@CRS='${#Project#firstlayercrs}'][1]/@minx)[1]</con:sourcePath><con:targetType>minlon</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true"><con:name>minlat</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GetCapabilities</con:sourceStep><con:sourcePath>declare namespace wms='http://www.opengis.net/wms';
(//wms:Layer[wms:Name='${#Project#firstlayercapabilities}'][1]/ancestor-or-self::wms:Layer/wms:BoundingBox[@CRS='${#Project#firstlayercrs}'][1]/@miny)[1]</con:sourcePath><con:targetType>minlat</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" entitize="false" ignoreEmpty="false" useXQuery="false" transferChildNodes="false"><con:name>maxlon</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GetCapabilities</con:sourceStep><con:sourcePath>declare namespace wms='http://www.opengis.net/wms';
(//wms:Layer[wms:Name='${#Project#firstlayercapabilities}'][1]/ancestor-or-self::wms:Layer/wms:BoundingBox[@CRS='${#Project#firstlayercrs}'][1]/@maxx)[1]</con:sourcePath><con:targetType>maxlon</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferToAll="false" entitize="false"><con:name>maxlat</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GetCapabilities</con:sourceStep><con:sourcePath>declare namespace wms='http://www.opengis.net/wms';
(//wms:Layer[wms:Name='${#Project#firstlayercapabilities}'][1]/ancestor-or-self::wms:Layer/wms:BoundingBox[@CRS='${#Project#firstlayercrs}'][1]/@maxy)[1]</con:sourcePath><con:targetType>maxlat</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" useXQuery="false" transferToAll="false" entitize="false"><con:name>projectbboxnew</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GetCapabilities</con:sourceStep><con:sourcePath>declare namespace wms='http://www.opengis.net/wms';
concat('${#Project#minlon}',',','${#Project#minlat}',',','${#Project#maxlon}',',','${#Project#maxlat}')</con:sourcePath><con:targetType>bbox</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" entitize="false"><con:name>getCapabilitiesUrl</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GetCapabilities</con:sourceStep><con:sourcePath>declare namespace wms='http://www.opengis.net/wms';
declare namespace xlink='http://www.w3.org/1999/xlink';
/wms:WMS_Capabilities/wms:Capability/wms:Request/wms:GetCapabilities/wms:DCPType/wms:HTTP/wms:Get/wms:OnlineResource/@xlink:href</con:sourcePath><con:targetType>getCapabilitiesURL</con:targetType><con:targetStep>#Project#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="UpdateQueryParams-Getmap" id="0deb6419-726d-4677-a359-71cdd140741b"><con:settings/><con:config><script>// if any non-WMS parameters are found, add them to the GetMap requests
// author: Thijs Brentjens

import com.eviware.soapui.impl.wsdl.teststeps.*;

c = testRunner.getRunContext();

URL endpoint = new URL(c.expand('${#Project#getMapUrl}'));
if (endpoint.getQuery()) {
    def queryParams = endpoint.getQuery().split("&amp;");


    // default params for GetMap:
    // filter out version
    def defaultParamsGetMap = ["version","service","request","language","bgcolor","crs","bbox","height","styles","width","height","transparent","exceptions","format","layers","srs"];

    for (p in queryParams) {
        for (d in defaultParamsGetMap) {
            if (p.split("=")[0].toLowerCase() == d) {
                queryParams = queryParams - p;
            }
        }
        log.debug("Queryparams from getMapUrl cleaned. Aditional queryparams left: " + queryParams);
    }

    // For REST requests, add additional query parameters
    // Here for GetCapabilities only
    if (queryParams.length > 0) {
        // for GetCapabilities: update all requests with other parameters from the serviceEndpoint
        for( testSuite in testRunner.testCase.testSuite.project.getTestSuiteList() ) {
            for( testCase in testSuite.getTestCaseList() ) {
                for( testStep in testCase.getTestStepList() ) {
                    if( testStep instanceof HttpTestRequestStep ) {
                        // First: cleanup old extra params, if the tests have been saved with aditional params a previous time
                       def getMapReq = false;
                        for (prop in testStep.getHttpRequest().getProperties()) {
                        	       if (prop.getValue().getValue()=="GetMap" || prop.getValue().getValue()=="BREAKME") {
                                	getMapReq = true;
                                }
                            }
                        if (getMapReq) {
                            // first remove any other params
                            for (prop in testStep.getHttpRequest().getProperties()) {
                                    defaultParam = 0;
                                    log.debug("HTTP param: " + prop.getKey())
                                    for (d in defaultParamsGetMap) {
                                    if (prop.getKey().toLowerCase() == d) {
                                        defaultParam = 1;
                                    }
                                }
                                // if not a defaultParam, remove it
                                if (defaultParam == 0) {
                                        testStep.getHttpRequest().removeProperty(prop.getKey());
                                        log.debug("Removed non-standard query parameter from the request: " + prop.getKey())
                                }
                            }
                            // now add the extra params from the query string
                            for (q in queryParams) {
                                    def pair = q.split("=");
                                    testStep.getHttpRequest().addProperty(pair[0]);
                                    testStep.getHttpRequest().setPropertyValue(pair[0], pair[1]);
                                    log.debug("Added non-standard query parameter for the GetMap requests: " + pair[0] + "=" + pair[1])
                            }
                        }
                    }
                }
            }
        };
    }
}</script></con:config></con:testStep><con:properties><con:property><con:name>MAIN_TESTSTEP</con:name><con:value>GetCapabilities</con:value></con:property><con:property><con:name>save_responses</con:name><con:value>TRUE</con:value></con:property><con:property><con:name>etf.AssociatedRequirements</con:name><con:value>Verplicht-WMS##1###Verplicht-WMS##2###Verplicht-WMS##3</con:value></con:property><con:property><con:name>etf.ShortDescription</con:name><con:value/></con:property><con:property><con:name>etf.Author</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.LastEditor</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.ExpectedResults</con:name><con:value/></con:property><con:property><con:name>etf.CreationDate</con:name><con:value>2015-07-13T16:45:04.091+02:00</con:value></con:property><con:property><con:name>etf.LastUpdateDate</con:name><con:value>2015-07-13T16:45:04.093+02:00</con:value></con:property><con:property><con:name>etf.Version</con:name><con:value>1.0.0</con:value></con:property><con:property><con:name>etf.Status</con:name><con:value>IMPLEMENTED</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Verplichtingen Metadata" searchProperties="true" id="ebf73e61-7c2a-4c5b-9ecf-f4b24a02e8ba"><con:settings/><con:testStep type="properties" name="Properties" id="cc9aa746-617c-45b6-ae84-12a8d7d6b6e6"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>urlToTest</con:name><con:value/></con:property><con:property><con:name>Capabilities</con:name><con:value/></con:property><con:property><con:name>urlToTestEncoded</con:name><con:value/></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="GetMetadataURLs" id="e81d8cee-334d-4ec0-bbbb-4ea71dfe272b"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GetMetadataURLs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#serviceEndpoint}</con:endpoint><con:request/><con:assertion type="XQuery Match" name="Verplicht-WMS##4a-1: Er is op zijn minst 1 MetadataURL aanwezig" id="f2231c83-4150-4c96-b7f0-7f21b49f11e4"><con:configuration><path>declare namespace wms='http://www.opengis.net/wms';
declare namespace xlink='http://www.w3.org/1999/xlink';

&lt;result>AssertionFailures: {
let $nrOfMetadataURLs:=count(//wms:Layer/wms:MetadataURL/wms:OnlineResource/@xlink:href)
return 
if ($nrOfMetadataURLs=0)
then "there is no MetadataURL defined for any Layer. There should be at least one."
else ""
}
&lt;/result></path><content>&lt;result>AssertionFailures: &lt;/result></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Verplicht-WMS##4a-2: Elke layer heeft direct of via een parent-node een MetadataURL"><con:configuration><path>declare namespace wms='http://www.opengis.net/wms';
declare namespace xlink='http://www.w3.org/1999/xlink';

&lt;result>AssertionFailures: {
for $namedlayer in //wms:Layer[exists(wms:Name)]
where count($namedlayer/ancestor-or-self::wms:Layer/wms:MetadataURL/wms:OnlineResource/@xlink:href)=0
return 
concat ("Layer: ",$namedlayer/wms:Name," has no MetadataURL. ")
}
&lt;/result></path><content>&lt;result>AssertionFailures: &lt;/result></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>VERSION</con:name><con:value>1.3.0</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>REQUEST</con:name><con:value>GetCapabilities</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>SERVICE</con:name><con:value>WMS</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="31f41afc-0d44-486a-b1ea-64d07fb71a1d"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="false" failOnError="true" ignoreEmpty="false" useXQuery="false" transferChildNodes="false" entitize="false" transferToAll="false"><con:name>Capabilities</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GetMetadataURLs</con:sourceStep><con:sourcePath/><con:targetType>Capabilities</con:targetType><con:targetStep>Properties</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="RunGetMetadataForLayer" id="7a2b38bb-d71d-4d6f-8b4e-db2a7baeddd2"><con:settings/><con:config><script>props = testRunner.testCase.testSteps['Properties']

// log.info("Caps: " + props.getPropertyValue("Capabilities"))
//Start parsing of Capabilities
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context);
def capabilitiesHolder = groovyUtils.getXmlHolder(props.getPropertyValue("Capabilities"))
capabilitiesHolder.namespaces["wms"] = "http://www.opengis.net/wms";
capabilitiesHolder.namespaces["xlink"] = "http://www.w3.org/1999/xlink";

//Pull out the metadataURLs
// def wmsName = capabilitiesHolder.getNodeValue("//wms:WMS_Capabilities/wms:Service/wms:Name");
def metadataUrlNodes = capabilitiesHolder.getNodeValues("//*/wms:MetadataURL/*/@xlink:href");
log.info("metadataUrlNodes: " + metadataUrlNodes);

// clear url to test
props.setPropertyValue("urlToTest",'')
// testRunner.testCase.testSuite.project.setPropertyValue("mdIdentifiersDatasetMetadata",'');

// run GetMetadata test for each url
for( i in metadataUrlNodes )
{   
   i=i.replaceAll("%7B","{")
   i=i.replaceAll("%7D","}")
   log.info("URL: " + i)   
   props.setPropertyValue("urlToTest",i)
   props.setPropertyValue("urlToTestEncoded",i.replaceAll("&amp;","&amp;amp;"))
   testRunner.runTestStepByName("GetMetadata")
   // testRunner.runTestStepByName("PropertyTransferMD_Identifier")  
}</script></con:config></con:testStep><con:testStep type="httprequest" name="GetMetadata" id="3269d603-92d8-435e-ba67-f2f554911ee8"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GetMetadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#urlToTest}</con:endpoint><con:request/><con:assertion type="Simple Schema Validator" name="Verplicht-WMS##4a-3: Metadata XML Schema Validatie" id="8f47fe2c-a091-4ea8-9f5a-f671ae38df3c"><con:configuration><pathToXSD>xsi:schemaLocation</pathToXSD></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Verplicht-WMS##4a-4: De metadata heeft een root element MD_Metadata" id="a1e88882-a329-4c28-96b0-5609863c0616"><con:configuration><path>declare namespace gmd='http://www.isotc211.org/2005/gmd';
declare namespace csw='http://www.opengis.net/cat/csw/2.0.2';

&lt;result>AssertionFailures:
{
let $value:=//gmd:MD_Metadata
return
if (exists($value))
then ""
else "the referred dataset Metadata document does not seem to be ISO Metadata. It does not have an XML element gmd:Metadata. Check the URL in the MetadataURL of the layer. URL: '${#urlToTestEncoded}'"
}
&lt;/result></path><content>&lt;result>AssertionFailures:&lt;/result></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Verplicht-WMS##4a-5: De metadata heeft een fileIdentifier" id="ab1a6110-80e9-4e27-8125-9d4e7b26514c"><con:configuration><path>declare namespace gmd='http://www.isotc211.org/2005/gmd';

&lt;result>AssertionFailures:
{
let $fileIdentifier:=//gmd:MD_Metadata/gmd:fileIdentifier
return 
if (string-length($fileIdentifier)=0)
then "there is no fileIdentifier defined in the Metadata."
else ""
}
&lt;/result></path><content>&lt;result>AssertionFailures:&lt;/result></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:properties><con:property><con:name>etf.ShortDescription</con:name><con:value/></con:property><con:property><con:name>etf.Author</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.LastEditor</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.ExpectedResults</con:name><con:value/></con:property><con:property><con:name>etf.CreationDate</con:name><con:value>2015-07-13T16:45:04.602+02:00</con:value></con:property><con:property><con:name>etf.LastUpdateDate</con:name><con:value>2015-07-13T16:45:04.602+02:00</con:value></con:property><con:property><con:name>etf.Version</con:name><con:value>1.0.0</con:value></con:property><con:property><con:name>etf.AssociatedRequirements</con:name><con:value>Verplicht-WMS##4a-1###Verplicht-WMS##4a-2###Verplicht-WMS##4a-3###Verplicht-WMS##4a-4###Verplicht-WMS##4a-5###</con:value></con:property><con:property><con:name>etf.Status</con:name><con:value>IMPLEMENTED</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Verplichtingen Legenda's" searchProperties="true" id="1e7dbd93-62ac-455e-9408-de4484158fc9"><con:settings/><con:testStep type="properties" name="Properties" id="5f25a1a0-bd87-4a02-95d8-c11d0ce394e7"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>urlToTest</con:name><con:value/></con:property><con:property><con:name>Capabilities</con:name><con:value/></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="GetStylesAndLegendURLs" id="8f169f4a-e51c-44f2-a83b-7c781a008bc8"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GetStylesAndLegendURLs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#serviceEndpoint}</con:endpoint><con:request/><con:assertion type="XQuery Match" name="Verplicht-WMS##5a: alle Layers hebben een Style element"><con:configuration><path>declare namespace wms='http://www.opengis.net/wms';
declare namespace xlink='http://www.w3.org/1999/xlink';
declare namespace inspire_vs='http://inspire.ec.europa.eu/schemas/inspire_vs/1.0';
declare namespace inspire_common='http://inspire.ec.europa.eu/schemas/common/1.0';
declare namespace xsi='http://www.w3.org/2001/XMLSchema-instance';

&lt;result>AssertionFailures:
{
for $stylesWithoutLegendURL in //wms:Style[string-length(wms:LegendURL/wms:OnlineResource/@xlink:href)=0]
return
concat ("The Style with name '",$stylesWithoutLegendURL/wms:Name,"' of Layer '",$stylesWithoutLegendURL/../wms:Name,"' does not have a LegendURL. ")
}
&lt;/result></path><content>&lt;result>AssertionFailures:&lt;/result></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:assertion type="XQuery Match" name="Verplicht-WMS##5b: voor alle Style elementen is een LegendURL beschikbaar" id="16792109-0e24-4ccb-be45-21b3ab49fa01"><con:configuration><path>declare namespace wms='http://www.opengis.net/wms';
declare namespace xlink='http://www.w3.org/1999/xlink';
declare namespace inspire_vs='http://inspire.ec.europa.eu/schemas/inspire_vs/1.0';
declare namespace inspire_common='http://inspire.ec.europa.eu/schemas/common/1.0';
declare namespace xsi='http://www.w3.org/2001/XMLSchema-instance';

&lt;result>AssertionFailures:
{
for $stylesWithoutLegendURL in //wms:Style[string-length(wms:LegendURL/wms:OnlineResource/@xlink:href)=0]
return
concat ("The Style with name '",$stylesWithoutLegendURL/wms:Name,"' of Layer '",$stylesWithoutLegendURL/../wms:Name,"' does not have a LegendURL. ")
}
&lt;/result></path><content>&lt;result>AssertionFailures:&lt;/result></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>VERSION</con:name><con:value>1.3.0</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>REQUEST</con:name><con:value>GetCapabilities</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>SERVICE</con:name><con:value>WMS</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="9a07a132-d2d4-4edf-8679-220c9922c63d"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="false" failOnError="true" ignoreEmpty="false" useXQuery="false" transferChildNodes="false" entitize="false" transferToAll="false"><con:name>Capabilities</con:name><con:sourceType>ResponseAsXml</con:sourceType><con:sourceStep>GetStylesAndLegendURLs</con:sourceStep><con:sourcePath/><con:targetType>Capabilities</con:targetType><con:targetStep>Properties</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="RunGetLegendForStyles" id="2df29f81-1d14-45d7-9ed4-5ba0e4739a78"><con:settings/><con:config><script>props = testRunner.testCase.testSteps['Properties']

// log.info("Caps: " + props.getPropertyValue("Capabilities"))
//Start parsing of Capabilities
def groovyUtils = new com.eviware.soapui.support.GroovyUtils(context);
def capabilitiesHolder = groovyUtils.getXmlHolder(props.getPropertyValue("Capabilities"))
capabilitiesHolder.namespaces["wms"] = "http://www.opengis.net/wms";
capabilitiesHolder.namespaces["xlink"] = "http://www.w3.org/1999/xlink";

//Pull out the LegendURLs
def legendUrlNodes = capabilitiesHolder.getNodeValues("//*/wms:LegendURL/*/@xlink:href");
log.info("legendUrlNodes: " + legendUrlNodes);

// run GetMetadata test for each url
for( i in legendUrlNodes )
{   
   i=i.replaceAll("%2F","/")
   i=i.replaceAll("%3A",":")
   log.info("Legend URL: " + i)
   props.setPropertyValue("urlToTest",i)
   testRunner.runTestStepByName("GetLegend")
}</script></con:config></con:testStep><con:testStep type="httprequest" name="GetLegend" id="f1c233f3-06dc-4fa9-b28f-d8cf7c79f6ea"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GetLegend" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#urlToTest}</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Verplicht-WMS##6: de LegendURL verwijst naar een afbeelding" id="324cf852-ef64-4623-852b-6222c44cc274"><con:configuration><scriptText>headers = messageExchange.getResponseHeaders()
mimetype = headers["Content-Type"][0].split(";")[0]
log.info(mimetype)
// image/png or image/gif or image/jpg or image/jpeg, to be sure:
// just check for image
assert mimetype.split("/")[0] == "image"</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:properties><con:property><con:name>MAIN_TESTSTEP</con:name><con:value>GetLegend</con:value></con:property><con:property><con:name>save_responses</con:name><con:value>TRUE</con:value></con:property><con:property><con:name>traces_dir</con:name><con:value>../../../logs/traces/</con:value></con:property><con:property><con:name>etf.ShortDescription</con:name><con:value/></con:property><con:property><con:name>etf.Author</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.LastEditor</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.ExpectedResults</con:name><con:value/></con:property><con:property><con:name>etf.CreationDate</con:name><con:value>2015-07-13T16:45:04.606+02:00</con:value></con:property><con:property><con:name>etf.LastUpdateDate</con:name><con:value>2015-07-13T16:45:04.606+02:00</con:value></con:property><con:property><con:name>etf.Version</con:name><con:value>1.0.0</con:value></con:property><con:property><con:name>etf.AssociatedRequirements</con:name><con:value>Verplicht-WMS##5a###Verplicht-WMS##5b###Verplicht-WMS##6</con:value></con:property><con:property><con:name>etf.Status</con:name><con:value>IMPLEMENTED</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="false" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Verplichtingen GetFeatureInfo" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" id="8bf143f0-f0f1-46c9-8244-fd74fe7afa44"><con:settings/><con:testStep type="properties" name="Properties"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>firstlayer</con:name><con:value>0</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="httprequest" name="GetCapabilities"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GetCapabilities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#serviceEndpoint}</con:endpoint><con:request/><con:assertion type="XQuery Match" name="Verplicht-WMS##7: GetFeatureInfo biedt text/xml als response format" id="07070711-1126-4cd9-af12-e9bb3e68c441"><con:configuration><path>declare namespace wms='http://www.opengis.net/wms';

&lt;result>AssertionFailures:
{
for $gfi in //wms:WMS_Capabilities/wms:Capability/wms:Request/wms:GetFeatureInfo
where count($gfi/wms:Format[contains(., "text/xml")])=0
return concat(" GetFeatureInfo supported, but format text/xml is not. This WMS supports: ", string-join(//wms:WMS_Capabilities/wms:Capability/wms:Request/wms:GetFeatureInfo/wms:Format,", "))
}
&lt;/result></path><content>&lt;result>AssertionFailures:&lt;/result></content><allowWildcards>false</allowWildcards></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>VERSION</con:name><con:value>1.3.0</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>SERVICE</con:name><con:value>WMS</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>REQUEST</con:name><con:value>GetCapabilities</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:properties><con:property><con:name>MAIN_TESTSTEP</con:name><con:value>GetCapabilities</con:value></con:property><con:property><con:name>save_responses</con:name><con:value>TRUE</con:value></con:property><con:property><con:name>etf.AssociatedRequirements</con:name><con:value>Verplicht-WMS##7</con:value></con:property><con:property><con:name>etf.ShortDescription</con:name><con:value/></con:property><con:property><con:name>etf.Author</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.LastEditor</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.ExpectedResults</con:name><con:value/></con:property><con:property><con:name>etf.CreationDate</con:name><con:value>2015-07-13T16:45:04.091+02:00</con:value></con:property><con:property><con:name>etf.LastUpdateDate</con:name><con:value>2015-07-13T16:45:04.093+02:00</con:value></con:property><con:property><con:name>etf.Version</con:name><con:value>1.0.0</con:value></con:property><con:property><con:name>etf.Status</con:name><con:value>IMPLEMENTED</con:value></con:property></con:properties></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Verplichtingen GetMap Transparent" searchProperties="true" id="ee865283-05c2-437f-b7ae-01728bfe9394"><con:settings/><con:testStep type="httprequest" name="GetCapabilities"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GetCapabilities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#serviceEndpoint}</con:endpoint><con:request/><con:assertion type="XPath Match" name="GetMap Formats"><con:configuration><path>declare namespace wms='http://www.opengis.net/wms';

count(//wms:WMS_Capabilities/wms:Capability/wms:Request/wms:GetMap/wms:Format) > 0</path><content>true</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>VERSION</con:name><con:value>1.3.0</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>SERVICE</con:name><con:value>WMS</con:value><con:style>QUERY</con:style></con:parameter><con:parameter><con:name>REQUEST</con:name><con:value>GetCapabilities</con:value><con:style>QUERY</con:style></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="goto" name="Meer dan alleen JPEG formaat" id="32e2bd4d-48f6-40cb-ab39-649784a7f2cc"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>JPEGOnly</con:name><con:type>XPATH</con:type><con:expression>declare namespace wms='http://www.opengis.net/wms';

string-join(//wms:WMS_Capabilities/wms:Capability/wms:Request/wms:GetMap/wms:Format,",")="image/jpeg"</con:expression><con:targetStep>EndTransparentTest</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="httprequest" name="GetMap TRANSPARENT" id="26b449bb-2bd4-45f1-8b9d-c4d6611bed4f"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="GetMap TRANSPARENT" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>${#Project#getMapUrl}</con:endpoint><con:request/><con:assertion type="GroovyScriptAssertion" name="Verplicht-WMS##8a: geldige afbeelding" id="7bf39a6a-919e-473f-ad9b-8e6d7406910a"><con:configuration><scriptText>headers = messageExchange.getResponseHeaders()
mimetype = headers["Content-Type"][0].split(";")[0]
log.info(mimetype)
assert mimetype == "image/png"
</scriptText></con:configuration></con:assertion><con:assertion type="GroovyScriptAssertion" name="Verplicht-WMS##8b: response size > 100" id="88bea1fa-654c-412b-996f-aa6f836465a2"><con:configuration><scriptText>/** Reponse size should be more that 1k. This should exclude most
INIMAGE exceptions */

m = messageExchange
size = messageExchange.getResponseContent().size()
log.info("size of response was: " + size)
assert size > 100
</scriptText></con:configuration></con:assertion><con:credentials><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:parameter><con:name>VERSION</con:name><con:value>1.3.0</con:value></con:parameter><con:parameter><con:name>SERVICE</con:name><con:value>WMS</con:value></con:parameter><con:parameter><con:name>REQUEST</con:name><con:value>GetMap</con:value></con:parameter><con:parameter><con:name>BGCOLOR</con:name><con:value>0x0000FF</con:value></con:parameter><con:parameter><con:name>CRS</con:name><con:value>${#Project#firstlayercrs}</con:value></con:parameter><con:parameter><con:name>BBOX</con:name><con:value>${#Project#bbox}</con:value></con:parameter><con:parameter><con:name>HEIGHT</con:name><con:value>600</con:value></con:parameter><con:parameter><con:name>STYLES</con:name><con:value/></con:parameter><con:parameter><con:name>WIDTH</con:name><con:value>800</con:value></con:parameter><con:parameter><con:name>TRANSPARENT</con:name><con:value>true</con:value></con:parameter><con:parameter><con:name>EXCEPTIONS</con:name><con:value>XML</con:value></con:parameter><con:parameter><con:name>FORMAT</con:name><con:value>image/png</con:value></con:parameter><con:parameter><con:name>LAYERS</con:name><con:value>${#Project#firstlayercapabilities}</con:value></con:parameter><con:parameter><con:name>SRS</con:name><con:value>${#Project#firstlayercrs}</con:value></con:parameter></con:parameters></con:config></con:testStep><con:testStep type="transfer" name="EndTransparentTest" id="a9873342-ca77-460b-be76-b9d98d361276"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:testStep><con:properties><con:property><con:name>etf.ShortDescription</con:name><con:value/></con:property><con:property><con:name>etf.Author</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.LastEditor</con:name><con:value>thijsb</con:value></con:property><con:property><con:name>etf.ExpectedResults</con:name><con:value/></con:property><con:property><con:name>etf.CreationDate</con:name><con:value>2015-07-13T16:45:04.596+02:00</con:value></con:property><con:property><con:name>etf.LastUpdateDate</con:name><con:value>2015-07-13T16:45:04.596+02:00</con:value></con:property><con:property><con:name>etf.Version</con:name><con:value>1.0.0</con:value></con:property><con:property><con:name>etf.AssociatedRequirements</con:name><con:value>Verplicht-WMS##8a###Verplicht-WMS##8b</con:value></con:property><con:property><con:name>etf.Status</con:name><con:value>IMPLEMENTED</con:value></con:property></con:properties></con:testCase><con:properties><con:property><con:name>etf.AssociatedRequirements</con:name><con:value>Verplicht-WMS</con:value></con:property></con:properties></con:testSuite><con:properties><con:property><con:name>serviceEndpoint</con:name><con:value>http://none</con:value></con:property><con:property><con:name>layer</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>minlat</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>minlon</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>maxlat</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>maxlon</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>bbox</con:name><con:value/></con:property><con:property><con:name>firstlayercapabilities</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>layerList</con:name><con:value/></con:property><con:property><con:name>getMapUrl</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>metadataUrl</con:name><con:value xsi:nil="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/></con:property><con:property><con:name>firstlayercrs</con:name><con:value/></con:property><con:property><con:name>datasetIdentifiersList</con:name><con:value/></con:property><con:property><con:name>getCapabilitiesURL</con:name><con:value/></con:property><con:property><con:name>mdIdentifiersDatasetMetadata</con:name><con:value/></con:property><con:property><con:name>etf.ignore.properties</con:name><con:value>authUser, authPwd, authMethod, minlon, minlat, maxlon, maxlat, bbox, firstlayercapabilities, layerList, getMapUrl, metadataUrl, firstlayercrs, datasetIdentifiersList, getCapabilitiesURL, mdIdentifiersDatasetMetadata, layer</con:value></con:property><con:property><con:name>authUser</con:name><con:value/></con:property><con:property><con:name>authPwd</con:name><con:value/></con:property><con:property><con:name>authMethod</con:name><con:value>basic</con:value></con:property></con:properties><con:wssContainer/><con:sensitiveInformation/></con:soapui-project>